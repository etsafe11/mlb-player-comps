<html>
<script src='https://d3js.org/d3.v4.min.js'></script>
<body>

<style> 
.link line {stroke: papayawhip;}
.node circle {stroke: black; fill: white;}
.node text {text-anchor: middle; font-size: 12px}
</style>

<svg width="800" height="800"></svg>

<script>
var svg = d3.select("svg"),
  width = +svg.attr("width"),
  height = +svg.attr("height")
  var force = null;


force = d3.layout.force()
  .size([width, height])
  .nodes(nodes)
  .links(links)
  .linkDistance(400);

console.log(force)


force.linkDistance(function(link) {
  return link.graph === 0 ? height/2 : height/4;
    });
        
var simulation = d3.forceSimulation()
  .force("link", d3.forceLink().distance(function(d) { return d.distance * 100; })
    .id(function(d) { return d.value; }))
  .force("charge", d3.forceManyBody())
  .force("center", d3.forceCenter(width / 2, height / 2));
 
var nodes = [
{"value":"Gerrit Cole"},{"value":"Jacob deGrom"},{"value":"Lance Lynn"},{"value":"Max Scherzer"},{"value":"Justin Verlander"},{"value":"Charlie Morton"},{"value":"Stephen Strasburg"},{"value":"Shane Bieber"},{"value":"Zack Greinke"},{"value":"Lucas Giolito"},{"value":"Walker Buehler"},{"value":"Hyun-Jin Ryu"},{"value":"Patrick Corbin"},{"value":"Jack Flaherty"},{"value":"Zack Wheeler"},{"value":"Mike Clevinger"},{"value":"Jose Berrios"},{"value":"Noah Syndergaard"},{"value":"Sonny Gray"},{"value":"Jake Odorizzi"},{"value":"Mike Minor"},{"value":"Kyle Hendricks"},{"value":"Luis Castillo"},{"value":"Mike Soroka"},{"value":"Marcus Stroman"},{"value":"Eduardo Rodriguez"},{"value":"Marco Gonzales"},{"value":"Chris Sale"},{"value":"James Paxton"},{"value":"Aaron Nola"},{"value":"German Marquez"},{"value":"Clayton Kershaw"},{"value":"Jose Quintana"},{"value":"Matthew Boyd"},{"value":"Brandon Woodruff"},{"value":"Trevor Bauer"},{"value":"Joe Musgrove"},{"value":"Masahiro Tanaka"},{"value":"Madison Bumgarner"},{"value":"Jon Gray"},{"value":"Frankie Montas"},{"value":"Max Fried"},{"value":"Spencer Turnbull"},{"value":"Homer Bailey"},{"value":"John Means"},{"value":"Jon Lester"},{"value":"Blake Snell"},{"value":"Michael Pineda"},{"value":"Yu Darvish"},{"value":"Kyle Gibson"},{"value":"Miles Mikolas"},{"value":"Cole Hamels"},{"value":"Anibal Sanchez"},{"value":"Dylan Bundy"},{"value":"Chris Paddack"},{"value":"Anthony DeSclafani"},{"value":"Robbie Ray"},{"value":"David Price"},{"value":"Tyler Glasnow"},{"value":"Sandy Alcantara"},{"value":"Kenta Maeda"},{"value":"Reynaldo Lopez"},{"value":"Eric Lauer"},{"value":"Brad Keller"},{"value":"Adam Wainwright"},{"value":"Joey Lucchesi"},{"value":"Daniel Norris"},{"value":"Merrill Kelly"},{"value":"Chris Bassitt"},{"value":"Ivan Nova"},{"value":"Brett Anderson"},{"value":"Wade Miley"},{"value":"Tanner Roark"},{"value":"Ryan Yarbrough"},{"value":"Luke Weaver"},{"value":"Tyler Skaggs"},{"value":"Jason Vargas"},{"value":"Martin Perez"},{"value":"Rick Porcello"},{"value":"Mike Fiers"},{"value":"Steven Matz"},{"value":"Yonny Chirinos"},{"value":"Jordan Lyles"},{"value":"Julio Teheran"},{"value":"Zach Davies"},{"value":"Zac Gallen"},{"value":"Pablo Lopez"},{"value":"Trent Thornton"},{"value":"Jakob Junis"},{"value":"Aaron Civale"},{"value":"Domingo German"},{"value":"Zach Eflin"},{"value":"Andrew Cashner"},{"value":"Ross Stripling"},{"value":"Jeff Samardzija"},{"value":"Tyler Mahle"},{"value":"Griffin Canning"},{"value":"Trevor Richards"},{"value":"Jordan Zimmermann"},{"value":"Danny Duffy"},{"value":"Dinelson Lamet"},{"value":"Chase Anderson"},{"value":"Andrew Heaney"},{"value":"Kevin Gausman"},{"value":"Gio Gonzalez"},{"value":"Steven Brault"},{"value":"Brad Peacock"},{"value":"Dakota Hudson"},{"value":"J.A. Happ"},{"value":"Carlos Carrasco"},{"value":"Jake Arrieta"},{"value":"Adrian Houser"},{"value":"Caleb Smith"},{"value":"Zach Plesac"},{"value":"Trevor Williams"},{"value":"Mike Leake"},{"value":"Cal Quantrill"},{"value":"Rich Hill"},{"value":"Jordan Yamamoto"},{"value":"Asher Wojciechowski"},{"value":"Dallas Keuchel"},{"value":"Mike Foltynewicz"},{"value":"Aaron Sanchez"},{"value":"Ariel Jurado"},{"value":"Jose Urena"},{"value":"Vince Velasquez"},{"value":"Jacob Waguespack"},{"value":"Antonio Senzatela"},{"value":"Adam Plutko"},{"value":"Chris Archer"},{"value":"Dylan Cease"},{"value":"Alex Young"},{"value":"Shaun Anderson"},{"value":"Matt Strahm"},{"value":"CC Sabathia"},{"value":"Elieser Hernandez"},{"value":"Mike Montgomery"},{"value":"Aaron Brooks"},{"value":"Yusei Kikuchi"},{"value":"Chi Chi Gonzalez"},{"value":"Tyler Beede"},{"value":"Drew Smyly"},{"value":"Adrian Sampson"},{"value":"Clay Buchholz"},{"value":"Kyle Freeland"},{"value":"Peter Lambert"},{"value":"Erick Fedde"},{"value":"Nick Pivetta"},{"value":"Michael Wacha"},{"value":"Jhoulys Chacin"},{"value":"Dario Agrazal"},{"value":"Felix Hernandez"},{"value":"Nick Margevicius"},{"value":"Drew Pomeranz"},{"value":"Matt Harvey"},{"value":"Ross Detwiler"},{"value":"Jerad Eickhoff"},{"value":"Dillon Peters"},{"value":"Taylor Clarke"},{"value":"Jaime Barria"},{"value":"Jeff Hoffman"},{"value":"Glenn Sparkman"},{"value":"Dereck Rodriguez"},{"value":"Jose Suarez"},{"value":"Jorge Lopez"},{"value":"Trevor Cahill"},{"value":"David Hess"},{"value":"Nathan Eovaldi"},{"value":"Gabriel Ynoa"},{"value":"Edwin Jackson"}
];

node = nodes[0];

simulation.nodes(nodes)

var links = [{"source":"Gerrit Cole","target":"Aaron Civale","distance":3.837},{"source":"Jacob deGrom","target":"Aaron Civale","distance":2.3559},{"source":"Lance Lynn","target":"Aaron Civale","distance":1.9529},{"source":"Max Scherzer","target":"Aaron Civale","distance":3.2068},{"source":"Justin Verlander","target":"Aaron Civale","distance":3.3045},{"source":"Charlie Morton","target":"Aaron Civale","distance":2.1297},{"source":"Stephen Strasburg","target":"Aaron Civale","distance":2.1287},{"source":"Shane Bieber","target":"Aaron Civale","distance":2.6442},{"source":"Zack Greinke","target":"Aaron Civale","distance":1.7356},{"source":"Lucas Giolito","target":"Aaron Civale","distance":2.7315},{"source":"Walker Buehler","target":"Aaron Civale","distance":2.1749},{"source":"Hyun-Jin Ryu","target":"Aaron Civale","distance":1.8204},{"source":"Patrick Corbin","target":"Aaron Civale","distance":2.2058},{"source":"Jack Flaherty","target":"Aaron Civale","distance":2.1257},{"source":"Zack Wheeler","target":"Aaron Civale","distance":1.2734},{"source":"Mike Clevinger","target":"Aaron Civale","distance":2.6536},{"source":"Jose Berrios","target":"Aaron Civale","distance":1.4191},{"source":"Noah Syndergaard","target":"Aaron Civale","distance":1.4684},{"source":"Sonny Gray","target":"Aaron Civale","distance":2.2675},{"source":"Jake Odorizzi","target":"Aaron Civale","distance":1.7911},{"source":"Mike Minor","target":"Aaron Civale","distance":1.6726},{"source":"Kyle Hendricks","target":"Aaron Civale","distance":1.3467},{"source":"Luis Castillo","target":"Aaron Civale","distance":2.605},{"source":"Mike Soroka","target":"Aaron Civale","distance":0.5475},{"source":"Marcus Stroman","target":"Aaron Civale","distance":0.7421},{"source":"Eduardo Rodriguez","target":"Aaron Civale","distance":1.8372},{"source":"Marco Gonzales","target":"Aaron Civale","distance":0.8768},{"source":"Chris Sale","target":"Aaron Civale","distance":3.7403},{"source":"James Paxton","target":"Aaron Civale","distance":2.7931},{"source":"Aaron Nola","target":"Aaron Civale","distance":2.4222},{"source":"German Marquez","target":"Aaron Civale","distance":2.2176},{"source":"Clayton Kershaw","target":"Aaron Civale","distance":2.1174},{"source":"Jose Quintana","target":"Aaron Civale","distance":1},{"source":"Matthew Boyd","target":"Aaron Civale","distance":3.4738},{"source":"Brandon Woodruff","target":"Aaron Civale","distance":1.9482},{"source":"Trevor Bauer","target":"Aaron Civale","distance":2.7977},{"source":"Joe Musgrove","target":"Aaron Civale","distance":1.2941},{"source":"Masahiro Tanaka","target":"Aaron Civale","distance":1.7321},{"source":"Madison Bumgarner","target":"Aaron Civale","distance":1.8172},{"source":"Jon Gray","target":"Aaron Civale","distance":1.6929},{"source":"Frankie Montas","target":"Aaron Civale","distance":1.4336},{"source":"Max Fried","target":"Aaron Civale","distance":1.6538},{"source":"Spencer Turnbull","target":"Aaron Civale","distance":1.7271},{"source":"Homer Bailey","target":"Aaron Civale","distance":1.3313},{"source":"John Means","target":"Aaron Civale","distance":1.5464},{"source":"Jon Lester","target":"Aaron Civale","distance":1.7066},{"source":"Blake Snell","target":"Aaron Civale","distance":3.2124},{"source":"Michael Pineda","target":"Aaron Civale","distance":2.0414},{"source":"Yu Darvish","target":"Aaron Civale","distance":3.1702},{"source":"Kyle Gibson","target":"Aaron Civale","distance":1.7637},{"source":"Miles Mikolas","target":"Aaron Civale","distance":1.8474},{"source":"Cole Hamels","target":"Aaron Civale","distance":1.9434},{"source":"Anibal Sanchez","target":"Aaron Civale","distance":1.4099},{"source":"Dylan Bundy","target":"Aaron Civale","distance":2.4092},{"source":"Chris Paddack","target":"Aaron Civale","distance":2.3094},{"source":"Anthony DeSclafani","target":"Aaron Civale","distance":2.1543},{"source":"Robbie Ray","target":"Aaron Civale","distance":4.0331},{"source":"David Price","target":"Aaron Civale","distance":2.3177},{"source":"Tyler Glasnow","target":"Aaron Civale","distance":2.2757},{"source":"Sandy Alcantara","target":"Aaron Civale","distance":1.769},{"source":"Kenta Maeda","target":"Aaron Civale","distance":1.9914},{"source":"Reynaldo Lopez","target":"Aaron Civale","distance":2.4246},{"source":"Eric Lauer","target":"Aaron Civale","distance":1.5324},{"source":"Brad Keller","target":"Aaron Civale","distance":1.7636},{"source":"Adam Wainwright","target":"Aaron Civale","distance":1.6019},{"source":"Joey Lucchesi","target":"Aaron Civale","distance":1.6935},{"source":"Daniel Norris","target":"Aaron Civale","distance":1.7555},{"source":"Merrill Kelly","target":"Aaron Civale","distance":1.677},{"source":"Chris Bassitt","target":"Aaron Civale","distance":1.7384},{"source":"Ivan Nova","target":"Aaron Civale","distance":1.9035},{"source":"Brett Anderson","target":"Aaron Civale","distance":1.6072},{"source":"Wade Miley","target":"Aaron Civale","distance":1.6098},{"source":"Tanner Roark","target":"Aaron Civale","distance":1.9911},{"source":"Ryan Yarbrough","target":"Aaron Civale","distance":1.8593},{"source":"Luke Weaver","target":"Aaron Civale","distance":1.5687},{"source":"Tyler Skaggs","target":"Aaron Civale","distance":1.464},{"source":"Jason Vargas","target":"Aaron Civale","distance":2.069},{"source":"Martin Perez","target":"Aaron Civale","distance":1.758},{"source":"Rick Porcello","target":"Aaron Civale","distance":1.9782},{"source":"Mike Fiers","target":"Aaron Civale","distance":1.7757},{"source":"Steven Matz","target":"Aaron Civale","distance":2.0646},{"source":"Yonny Chirinos","target":"Aaron Civale","distance":1.7129},{"source":"Jordan Lyles","target":"Aaron Civale","distance":2.6243},{"source":"Julio Teheran","target":"Aaron Civale","distance":2.5945},{"source":"Zach Davies","target":"Aaron Civale","distance":1.3665},{"source":"Zac Gallen","target":"Aaron Civale","distance":2.8545},{"source":"Pablo Lopez","target":"Aaron Civale","distance":1.28},{"source":"Trent Thornton","target":"Aaron Civale","distance":2.567},{"source":"Jakob Junis","target":"Aaron Civale","distance":2.1454},{"source":"Aaron Civale","target":"Aaron Civale","distance":0},{"source":"Domingo German","target":"Aaron Civale","distance":3.0312},{"source":"Zach Eflin","target":"Aaron Civale","distance":1.8475},{"source":"Andrew Cashner","target":"Aaron Civale","distance":1.7398},{"source":"Ross Stripling","target":"Aaron Civale","distance":1.9303},{"source":"Jeff Samardzija","target":"Aaron Civale","distance":1.5489},{"source":"Tyler Mahle","target":"Aaron Civale","distance":2.4438},{"source":"Griffin Canning","target":"Aaron Civale","distance":1.9954},{"source":"Trevor Richards","target":"Aaron Civale","distance":2.1953},{"source":"Jordan Zimmermann","target":"Aaron Civale","distance":1.9545},{"source":"Danny Duffy","target":"Aaron Civale","distance":1.9155},{"source":"Dinelson Lamet","target":"Aaron Civale","distance":3.8834},{"source":"Chase Anderson","target":"Aaron Civale","distance":1.8359},{"source":"Andrew Heaney","target":"Aaron Civale","distance":3.3494},{"source":"Kevin Gausman","target":"Aaron Civale","distance":2.1496},{"source":"Gio Gonzalez","target":"Aaron Civale","distance":2.1171},{"source":"Steven Brault","target":"Aaron Civale","distance":2.279},{"source":"Brad Peacock","target":"Aaron Civale","distance":1.9749},{"source":"Dakota Hudson","target":"Aaron Civale","distance":2.6677},{"source":"J.A. Happ","target":"Aaron Civale","distance":2.7182},{"source":"Carlos Carrasco","target":"Aaron Civale","distance":3.5649},{"source":"Jake Arrieta","target":"Aaron Civale","distance":1.9164},{"source":"Adrian Houser","target":"Aaron Civale","distance":1.9348},{"source":"Caleb Smith","target":"Aaron Civale","distance":3.2883},{"source":"Zach Plesac","target":"Aaron Civale","distance":1.9016},{"source":"Trevor Williams","target":"Aaron Civale","distance":2.1235},{"source":"Mike Leake","target":"Aaron Civale","distance":3.0835},{"source":"Cal Quantrill","target":"Aaron Civale","distance":1.7305},{"source":"Rich Hill","target":"Aaron Civale","distance":2.7929},{"source":"Jordan Yamamoto","target":"Aaron Civale","distance":2.7266},{"source":"Asher Wojciechowski","target":"Aaron Civale","distance":2.7257},{"source":"Dallas Keuchel","target":"Aaron Civale","distance":1.5457},{"source":"Mike Foltynewicz","target":"Aaron Civale","distance":2.3957},{"source":"Aaron Sanchez","target":"Aaron Civale","distance":3.1915},{"source":"Ariel Jurado","target":"Aaron Civale","distance":2.2022},{"source":"Jose Urena","target":"Aaron Civale","distance":1.3512},{"source":"Vince Velasquez","target":"Aaron Civale","distance":3.0505},{"source":"Jacob Waguespack","target":"Aaron Civale","distance":1.7435},{"source":"Antonio Senzatela","target":"Aaron Civale","distance":2.7229},{"source":"Adam Plutko","target":"Aaron Civale","distance":2.5996},{"source":"Chris Archer","target":"Aaron Civale","distance":3.817},{"source":"Dylan Cease","target":"Aaron Civale","distance":3.7276},{"source":"Alex Young","target":"Aaron Civale","distance":2.263},{"source":"Shaun Anderson","target":"Aaron Civale","distance":1.9009},{"source":"Matt Strahm","target":"Aaron Civale","distance":3.1958},{"source":"CC Sabathia","target":"Aaron Civale","distance":3.6187},{"source":"Elieser Hernandez","target":"Aaron Civale","distance":3.1093},{"source":"Mike Montgomery","target":"Aaron Civale","distance":2.2192},{"source":"Aaron Brooks","target":"Aaron Civale","distance":2.6354},{"source":"Yusei Kikuchi","target":"Aaron Civale","distance":2.8128},{"source":"Chi Chi Gonzalez","target":"Aaron Civale","distance":3.5849},{"source":"Tyler Beede","target":"Aaron Civale","distance":2.5515},{"source":"Drew Smyly","target":"Aaron Civale","distance":4.1843},{"source":"Adrian Sampson","target":"Aaron Civale","distance":3.836},{"source":"Clay Buchholz","target":"Aaron Civale","distance":2.8031},{"source":"Kyle Freeland","target":"Aaron Civale","distance":3.2827},{"source":"Peter Lambert","target":"Aaron Civale","distance":2.9},{"source":"Erick Fedde","target":"Aaron Civale","distance":2.7332},{"source":"Nick Pivetta","target":"Aaron Civale","distance":3.109},{"source":"Michael Wacha","target":"Aaron Civale","distance":2.9892},{"source":"Jhoulys Chacin","target":"Aaron Civale","distance":3.7952},{"source":"Dario Agrazal","target":"Aaron Civale","distance":2.806},{"source":"Felix Hernandez","target":"Aaron Civale","distance":3.1335},{"source":"Nick Margevicius","target":"Aaron Civale","distance":2.8925},{"source":"Drew Pomeranz","target":"Aaron Civale","distance":4.2183},{"source":"Matt Harvey","target":"Aaron Civale","distance":3.6776},{"source":"Ross Detwiler","target":"Aaron Civale","distance":3.7744},{"source":"Jerad Eickhoff","target":"Aaron Civale","distance":4.1928},{"source":"Dillon Peters","target":"Aaron Civale","distance":3.6476},{"source":"Taylor Clarke","target":"Aaron Civale","distance":3.4278},{"source":"Jaime Barria","target":"Aaron Civale","distance":4.4887},{"source":"Jeff Hoffman","target":"Aaron Civale","distance":4.8868},{"source":"Glenn Sparkman","target":"Aaron Civale","distance":3.1917},{"source":"Dereck Rodriguez","target":"Aaron Civale","distance":3.1205},{"source":"Jose Suarez","target":"Aaron Civale","distance":4.097},{"source":"Jorge Lopez","target":"Aaron Civale","distance":3.2831},{"source":"Trevor Cahill","target":"Aaron Civale","distance":4.2216},{"source":"David Hess","target":"Aaron Civale","distance":5.2624},{"source":"Nathan Eovaldi","target":"Aaron Civale","distance":5.0995},{"source":"Gabriel Ynoa","target":"Aaron Civale","distance":4.6795},{"source":"Edwin Jackson","target":"Aaron Civale","distance":4.6687}]

;

simulation.force("link").links(links);

var linksel = svg.append("g")
  .attr("class", "link")
  .selectAll("line").data(links).enter().append("line")
  
var nodesel = svg.selectAll(".node")
  .data(nodes)
  .enter().append("g")
  .attr("class", "node")
  .call(d3.drag()
    .on("start", dragstarted)
    .on("drag", dragged)
    .on("end", dragended))
    .on("dblclick", dblclick);
   
nodesel.append("circle")
  .attr("r", 10);
  
nodesel.append("text")
  .attr("transform", "translate(0,6)")
  .text(function (d) { return d.value; });

var newLink = [
  {"source": "Kyle Lewis", "target": "Jarred Kelenic"},

];

function dblclick(d) {
  console.log('begin dblclick')
  
  var box = svg.append("g")
    .attr("transform", "translate(50,50)");
  /*
  var box = svg.append("rect")
     .attr('y', 0)
     .attr('x', 0)
     .attr('height', 50)
     .attr('width', 200)
     .attr('fill', 'white')
   */
    
  //var text = box.remove()
  var text = box
    .append("text")
    .attr("x", 0)
    .attr("y", 0)
    //.attr("fill", "white")
    .text(d.value)
}
    
simulation.on("tick", ticked);

function ticked() {
  linksel.attr("x1", function(d) { return d.source.x; })
    .attr("y1", function(d) { return d.source.y; })
    .attr("x2", function(d) { return d.target.x; })
    .attr("y2", function(d) { return d.target.y; });
    
  nodesel.attr("transform", function(d) {
    return "translate(" + d.x + "," + d.y + ")";
  });

 }
  
function dragstarted(d) {
  if (!d3.event.active) simulation.alphaTarget(0.3).restart();
  d.fx = d.x;
  d.fy = d.y;
}
function dragged(d) {
  d.fx = d3.event.x;
  d.fy = d3.event.y;
}
function dragended(d) {
  if (!d3.event.active) simulation.alphaTarget(0);
  d.fx = null;
  d.fy = null;
}

</script>
</body>
</html>
